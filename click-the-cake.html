<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>üç∞ Click the Cake Game</title>
<link rel="stylesheet" href="style.css">
<style>
  body {
    background: black;
    color: gold;
    font-family: 'Segoe UI', sans-serif;
    text-align: center;
  }
  .cake {
    position: fixed;
    width: 60px;
    cursor: pointer;
    z-index: 10;
    transition: transform 0.2s;
  }
  .cake:active {
    transform: scale(0.8);
  }
  #score {
    font-size: 2rem;
    margin: 20px;
  }
  #prize {
    font-size: 2.5rem;
    color: gold;
    text-shadow: 0 0 10px #ffd700;
    margin-top: 30px;
  }
  .container {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  /* Modal styles */
  #modal {
    display: none;
    position: fixed;
    z-index: 100;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.8);
  }
  #modal-content {
    background-color: #111;
    margin: 15% auto;
    padding: 30px;
    border: 3px solid gold;
    width: 80%;
    max-width: 400px;
    color: gold;
    text-align: center;
    border-radius: 12px;
    font-size: 1.5rem;
  }
  #modal-close {
    margin-top: 20px;
    padding: 10px 20px;
    background: gold;
    border: none;
    font-weight: bold;
    cursor: pointer;
    border-radius: 8px;
  }
  a.btn {
    display: inline-block;
    margin: 40px auto;
    padding: 10px 25px;
    background: gold;
    color: black;
    text-decoration: none;
    font-weight: bold;
    border-radius: 12px;
  }
</style>
</head>
<body>
  <div class="container">

    <h1>üç∞ Click the Cake!</h1>
    <p id="score">Score: 0</p>
    <div id="prize"></div>

    <a href="game.html" class="btn">‚Üê Back to Games</a>

    <!-- Modal -->
    <div id="modal">
      <div id="modal-content">
        <p>üéâ Congratulations Anna! You clicked 10 cakes! üéâ</p>
        <p>ü§ó Here's a big virtual birthday hug just for you! ü§ó</p>
        <button id="modal-close">Close</button>
      </div>
    </div>

    <script>
      let score = 0;
      const scoreDisplay = document.getElementById('score');
      const prizeDisplay = document.getElementById('prize');
      const modal = document.getElementById('modal');
      const modalClose = document.getElementById('modal-close');

      const birthdaySound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/26/audio_682eecb7ef.mp3?filename=happy-birthday-song-13667.mp3');

      function launchConfetti() {
        for (let i = 0; i < 150; i++) {
          let confetti = document.createElement('div');
          confetti.style.position = 'fixed';
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.top = '-10px';
          confetti.style.width = '10px';
          confetti.style.height = '10px';
          confetti.style.background = `hsl(${Math.random() * 360}, 70%, 60%)`;
          confetti.style.opacity = '0.9';
          confetti.style.transition = 'top 3s ease-out, transform 3s';
          document.body.appendChild(confetti);
          
          setTimeout(() => {
            confetti.style.top = '100vh';
            confetti.style.transform = `rotate(${Math.random() * 720}deg)`;
          }, 100);

          setTimeout(() => {
            confetti.remove();
          }, 3200);
        }
      }

      function spawnCake() {
        if (score >= 10) return;

        let cake = document.createElement('img');
        cake.src = "images/cake.png";  // <-- USE YOUR OWN IMAGE HERE
        cake.className = "cake";
        cake.style.left = Math.random() * 90 + "vw";
        cake.style.top = Math.random() * 80 + "vh";

        cake.onclick = function() {
          score++;
          scoreDisplay.textContent = `Score: ${score}`;
          cake.remove();

          if (score === 10) {
            prizeDisplay.textContent = '';
            launchConfetti();
            birthdaySound.play();
            modal.style.display = 'block';
          }
        }

        document.body.appendChild(cake);

        setTimeout(() => {
          if (document.body.contains(cake)) {
            cake.remove();
          }
        }, 4000);
      }

      setInterval(spawnCake, 800);

      modalClose.onclick = () => {
        modal.style.display = 'none';
      };

      window.onclick = (event) => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      };
    </script>

  </div>
</body>
</html>
